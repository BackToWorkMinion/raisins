@model IEnumerable<Raisins.Client.Web.Models.Payment>

@{
    ViewBag.Title = "Index";
}

@Html.ActionLink("Create New", "Create") | @Html.ActionLink("Lock all", "LockAll") | @Html.ActionLink("Lock Local", "LockLocal") | @Html.ActionLink("Lock International", "LockInternational")
<table id="payment-grid">
    <thead>
        <tr>
            <th class="controls"></th>
            <th class="beneficiary">Band Voted</th>
            <th class="name">Name</th>
            <th class="currency">Currency</th>
            <th class="amount">Actual Amount</th>
            <th class="votes">Votes</th>
            <th class="total">Converted Amount</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var payment in Model)
        { 
            <tr>
                <td class="controls">@Html.ActionLink("Edit", "Edit", new { ID = payment.ID }) | @Html.ActionLink("Delete", "Delete", new { ID = payment.ID })</td>
                <td class="beneficiary">@Html.DisplayFor(model => payment.Beneficiary.Name)</td>
                <td class="name">@Html.DisplayFor(model => payment.Name)</td>
                <td class="currency">@Html.DisplayFor(model => payment.Currency.CurrencyCode)</td>
                <td class="amount">@Html.DisplayFor(model => payment.Amount)</td>
                <td class="votes">@(Math.Floor(payment.Amount / payment.Currency.Ratio))</td>
                <td class="total">@((payment.Amount * payment.Currency.ExchangeRate).ToString("0.00"))</td>
            </tr>
        }
    </tbody>
</table>